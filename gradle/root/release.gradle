apply plugin: "org.mockito.mockito-release-tools.continuous-delivery"

ext {
    gh_repository = "mockito/mockito-release-tools-example"
    gh_user = "szczepiq"
    gh_readOnlyAuthToken = "e7fe8fcdd6ffed5c38498c4c79b2a68e6f6ed1bb"
    //TODO below is not used yet
    gh_writeAuthTokenEnvName = "GH_WRITE_TOKEN"

    releaseNotes_file = "doc/release-notes/official.md"
    releaseNotes_notableFile = "docs/release-notes/notable.md"
    releaseNotes_labelMapping = [
        '1.* incompatible': 'Incompatible changes with previous major version (v1.x)',
        'java-9': "Java 9 support",
        'java-8': "Java 8 support",
        'new feature': "New features",
        'BDD': 'Behavior-Driven Development support',
        'bug': "Bugfixes",
        'enhancement': "Enhancements",
        'android': "Android support",
        'docs': 'Documentation'
    ]

    git_genericUser = "Mockito Release Tools"
    git_genericEmail = "<mockito.release.tools@gmail.com>"
    git_releasableBranchRegex = "master|release/.+"  // matches 'master', 'release/2.x', 'release/3.x', etc.

    bintray_repo = 'mockito-release-tools-example-repo'
    bintray_notableRepo = 'mockito-release-tools-example-repo-notable'
    bintray_apiKeyEnv = 'MOCKITO_BINTRAY_API_KEY'

    pom_developers = ['szczepiq:Szczepan Faber', 'bric3:Brice Dutheil', 'raphw:Rafael Winterhalter', 'TimvdLippe:Tim van der Lippe']
    pom_contributors = []
}

allprojects {
    plugins.withId("org.mockito.release-tools.bintray") {
        bintray {
            pkg {
                user = 'szczepiq'
                userOrg = 'mockito'
                name = 'mockito-release-tools-example'
                licenses = ['MIT']
                labels = ['continuous delivery', 'release automation', 'mockito']

                version {
                    //Automatically syncs to central repository (https://oss.sonatype.org/)
                    mavenCentralSync {
                        sync = true
                        user = System.env.NEXUS_TOKEN_USER
                        password = System.env.NEXUS_TOKEN_PWD
                    }
                }
            }
        }
    }
}
